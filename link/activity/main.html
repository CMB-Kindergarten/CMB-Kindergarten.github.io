<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>缤纷活动-聪明堡幼儿园</title>
    <link rel="shortcut icon" type="image/x-icon" href="../../logo.ico" />
    <link href="../../css/public.css"  rel="stylesheet" />
    <link href="../css/linkPublic.css"  rel="stylesheet" />
    <link href="css.css"  rel="stylesheet" />
    <script src="../../db/activity.js" ></script>
    <script src="../../js/template.js" ></script>
    <script src="../../js/pages.js" ></script>
</head>
<body>
<div id="center">
    <div id="top">
        <div class="banner">
            <div class="logo clear">
                <div class="img">
                    <a href="./../../index.html">
                        <img src="../../img/logo.png" alt="聪明堡幼儿园">
                    </a>
                </div>
                <h1 class="text">
                    <a href="./../../index.html"><span>聪明堡</span><span>幼</span><span>儿</span><span>园</span></a>
                </h1>
            </div>
        </div>
        <ul class="nav">
            <li><a href="./../../index.html">网站首页</a></li>
            <li><a href="../introduce.html">园所介绍</a></li>
            <li><a href="./main.html">缤纷活动</a></li>
            <li><a href="../home/main.html">家园互动</a></li>
            <li><a href="../care/main.html">幼儿保健</a></li>
            <li><a href="../admission.html">招生简章</a></li>
            <li><a href="../message.html">留言板</a></li>
        </ul>
    </div>


    <div id="content">
        <div>
            <div class="title">
                <h2 class="content">缤纷活动<span class="position">当前位置：<a href="./../../index.html">首页</a>→<a href="./main.html">缤纷活动</a></span></h2>
            </div>
            <div class="text"></div>




            <script id="careText" type="text/html">
                <div class="substance">
                    <% if(now !== page){for(let i = (now-1)*len; i<(now-1)*len+len; i++){%>
                        <div>
                            <a href="<%=activity[i].url%>" target="_blank"><div class="ingWrap"><img src="<%=activity[i].titleImg%>" alt="<%=activity[i].title%>"/></div></a>
                            <p><a href="<%=activity[i].url%> target="_blank""><%=activity[i].title%></a></p>
                            <p class="time"><%=activity[i].time%></p>
                        </div>
                    <%}}else{for(let i=(now-1)*len; i<activity.length; i++){%>
                    <div>
                        <a href="<%=activity[i].url%>" target="_blank"><div class="ingWrap"><img src="<%=activity[i].titleImg%>" alt="<%=activity[i].title%>"/></div></a>
                        <p><a href="<%=activity[i].url%> target="_blank""><%=activity[i].title%></a></p>
                        <p class="time"><%=activity[i].time%></p>
                    </div>
                    <%}}%>
                </div>
                <p class="now_all">第：<%=now%>/<%=page%>页</p>
            </script>



            <p class="page">
                <span>首页</span>
                <span>上一页</span>
                <span>下一页</span>
                <span>尾页</span>&nbsp;&nbsp;
                转到：<input type="text"/>&nbsp;
                <input type="button" value="GO"/>
            </p>
        </div>
    </div>

    <div id="footer">
        <div class="content clear">
            <div class="text">
                <p>哈尔滨聪明堡幼儿园</p>
                <p>电话：18946110350</p>
                <p>地址：哈尔滨市道里区故新路295号（天合俊景小区）</p>
                <p>家长信箱:heigezi1998@163.com</p>
                <p>技术支持：王卓然</p>
            </div>
            <img src="../../img/logo.png" />
        </div>
    </div>
</div>

<script>
    //把变量挂载到顶级window下，确保模板引擎和主页js都能获取
    page({
        now : 1,
        len : 6,
        dataLen : activity.activity.length,
        templateTextQuery : '#careText',
        renderWrapQuery : '#content .text',
        renderData : activity
    });

    let aImg = document.querySelectorAll('#content .substance > div img');

    for(let i=0; i<aImg.length; i++){
        aImg[i].top = 0;
        aImg[i].left = 0;
        aImg[i].onmouseover = function(){
            let _this = this;
            clearInterval(_this.timer);
            _this.timer = setInterval(function(){
                _this.top -= 2;
                _this.left -= 1.5;
                _this.style.width = parseInt(_this.width)+4+ 'px';
                _this.style.top = _this.top+'px';
                _this.style.left = _this.left+'px';
                if(parseInt(_this.style.width) >= 390) clearInterval(_this.timer);
            }, 14)
        };
        aImg[i].onmouseout = function(){
            let _this = this;
            clearInterval(_this.timer);
            _this.timer = setInterval(function(){
                _this.top += 2;
                _this.left += 1.5;
                _this.style.width = parseInt(_this.width)-4+ 'px';
                _this.style.top = _this.top+'px';
                _this.style.left = _this.left+'px';
                if(parseInt(_this.style.width) <= 300) clearInterval(_this.timer);
            }, 14)
        }
    }
</script>
</body>
</html>